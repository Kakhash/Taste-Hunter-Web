(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{1703:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/kitchen",function(){return s(3711)}])},3711:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(5893),r=s(7294);function l(e){let{status:t}=e,s={paid:"bg-[color:var(--th-success)]/10 text-[color:var(--th-success)]",unpaid:"bg-[color:var(--th-warn)]/10 text-[color:var(--th-warn)]",cancelled:"bg-red-500/10 text-red-600",default:"bg-[color:var(--th-accent)]/10 text-[color:var(--th-accent)]"},r="paid"===t?s.paid:"unpaid"===t?s.unpaid:"cancelled"===t?s.cancelled:s.default;return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ".concat(r),children:t})}function n(){let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=!1,s=async()=>{try{var s;let a=await fetch("/api/orders/kitchen",{cache:"no-store",headers:{"x-kitchen-key":(s="supersecret123",void 0!==s)?s:""}}),r=await a.json();if(!a.ok||!(null==r?void 0:r.ok))throw Error((null==r?void 0:r.error)||"Failed to load orders");e||(t(Array.isArray(r.orders)?r.orders:[]),n(null))}catch(s){e||(n((null==s?void 0:s.message)||"Network error"),t([]))}finally{e||c(!1)}};s();let a=setInterval(s,5e3);return()=>{e=!0,clearInterval(a)}},[]);let i=Array.isArray(e)?e:[];return(0,a.jsxs)("div",{className:"min-h-screen bg-taste-bg text-taste-text",children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 backdrop-blur bg-taste-bg/70 border-b border-taste-border",children:(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-tight",children:[(0,a.jsx)("span",{className:"text-taste-primary",children:"Taste Hunter"})," ",(0,a.jsx)("span",{className:"text-taste-text/90",children:"Kitchen"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"h-2 w-2 rounded-full bg-taste-primary animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-taste-muted",children:"Live"})]})]})}),(0,a.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-6",children:[s&&(0,a.jsxs)("div",{className:"mb-4 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-red-700",children:["Error: ",s]}),d?(0,a.jsx)("div",{className:"text-taste-muted",children:"Loadingâ€¦"}):0===i.length?(0,a.jsx)("div",{className:"rounded-xl border border-dashed border-taste-border bg-taste-card p-8 text-center shadow",children:(0,a.jsx)("p",{className:"text-taste-muted",children:"No active orders."})}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:i.map(e=>(0,a.jsxs)("article",{className:"rounded-2xl border border-taste-border bg-taste-card p-4 shadow-taste transition hover:shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold",children:["Order ",(0,a.jsxs)("span",{className:"text-taste-primary",children:["#",e.id]})]}),(0,a.jsx)(l,{status:e.status})]}),(0,a.jsx)("div",{className:"mt-1 text-sm text-taste-muted",children:new Date(e.createdAt).toLocaleTimeString()}),(0,a.jsx)("ul",{className:"mt-3 space-y-1 text-[15px]",children:e.items.map((e,t)=>(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("span",{className:"font-medium",children:["\xd7 ",e.qty]})]},t))}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-taste-muted",children:"Total"}),(0,a.jsxs)("span",{className:"text-base font-bold",children:[e.total," GEL"]})]})]},e.id))})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1703)}),_N_E=e.O()}]);